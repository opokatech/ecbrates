CMAKE_MINIMUM_REQUIRED(VERSION 3.0)

# CXXOPTS - header only library, so we export the include directory here
SET(CXXOPTS_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/cxxopts/include CACHE INTERNAL "")

# PUGIXML - it shuold export include libs automatically
ADD_SUBDIRECTORY(pugixml)

# CPR
SET(BUILD_CPR_TESTS OFF CACHE BOOL "")
ADD_SUBDIRECTORY(cpr)

# GTEST - are added if needs to be in ../CMakeLists.txt

# JSONCPP
SET(JSONCPP_WITH_TESTS OFF CACHE INTERNAL "" FORCE)
SET(JSONCPP_WITH_POST_BUILD_UNITTEST OFF CACHE INTERNAL "" FORCE)
SET(JSONCPP_WITH_PKGCONFIG_SUPPORT OFF CACHE INTERNAL "" FORCE)
ADD_SUBDIRECTORY(jsoncpp)

# MONGOOSE
ADD_SUBDIRECTORY(mongoose)
SET(MONGOOSE_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/mongoose CACHE INTERNAL "")

# In main file we use those:
SET(EXTERNALS_INCLUDE_DIRS
    ${CXXOPTS_INCLUDE_DIRS}
    ${CPR_INCLUDE_DIRS}
    ${MONGOOSE_INCLUDE_DIRS}
    CACHE INTERNAL "")

SET(EXTERNALS_LIBRARIES
    ${CPR_LIBRARIES}
    pugixml
    jsoncpp_lib_static
    mongoose
    CACHE INTERNAL "")

